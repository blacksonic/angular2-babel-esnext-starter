<p>
Remember we created <a href="http://gs500coder.blogspot.co.uk/2016/01/creating-chart-component-angular2.html">flot</a> component in previous posts?<br/>
Lets have a quick look on the code now:
<pre>
<code class="language-javascript">
export class App {  
  constructor() {
    ...
    //Look here - dont you feel something here is uuuugggglllyyyy?
    this.dataset = [{label: "line1",color:"blue",data:[
    [1, 130],
    [2, 40],
    [3, 80],
    [4, 160],
    [5, 159],
    [6, 370],
    [7, 330],
    [8, 350],
    [9, 370],
    [10, 400],
    [11, 330],
    [12, 350]
]}];
  }
}
</code>
</pre>
The way <strong>dataset</strong> property sat - is perfect example of hardcoding, and everybody knows that hardcoding is bad.<br/>
Since we dont have real server to get data from yet, at least lets move the data-getting logic to some different module, in other words - 
</p>

<h3>Lets Create A Service</h3>
<p>
<pre>
<code class="language-javascript">
export var FlotEntries: Array<number>[] = [
    [1, 130],
    [2, 40],
    [3, 80],
    [4, 160],
    [5, 159],
    [6, 370],
    [7, 330],
    [8, 350],
    [9, 370],
    [10, 400],
    [11, 330],
    [12, 350]
];

//@Injectable()
export class FlotService {
  getFlotEntries() {
    return FlotEntries;
  }
}
</code>
</pre>
This service doing only one thing - getting data for a plot chart.
</p>

<h3>Lets Use Our Service</h3>
<p>
Last thing that left - is to teach our main component how to use the service:<br/>
Note: <strong>Dont forget to list the service inside "poviders" property</strong>
<pre>
<code class="language-javascript">
//our root app component
import {Component} from 'angular2/core'
import {FlotCmp} from './flot';
import {FlotService} from './FlotService';

@Component({
  selector: 'my-app',
  providers: [],
  template: `
    &lt;div&gt;
      &lt;flot  [options]="splineOptions" [dataset]="dataset" height="250px" width="100%"&gt;&lt;/flot&gt;
    &lt;/div&gt;
  `,
  directives: [FlotCmp],
  providers: [FlotService]//important!!!
})
export class App {
  
  constructor(private _flotService:FlotService) {
    this.name = 'Angular2'
    this.splineOptions: any = {
            series: {
                lines: { show: true },
                points: {
                    radius: 3,
                    show: true
                }
            }
    };
    this.dataset = [{label: "line1",color:"blue",data:this._flotService.getFlotEntries()]}];
  }
}
</code>
</pre>
<br/>
Looks better isn't it?<br/>
<a href="http://plnkr.co/edit/vImkub2voZb2fDS9lMr4?p=preview">plunkr</a><br/>
Thats it, now you know how to create angular2 service.
<br/>
Hope you have fun reading


</p>

